<h1 align="center">Poly Cross-Chain Ecosystem Scenario</h1>

There are two scenarios for verifying the transaction block and the cross-chain transaction information:

- **Header Sync**: Verify the block header based on the critical blockchain data such as mining difficulties, validator set, and signature. Then, verify the cross-chain transaction based on the corresponding Merkle proof.
- **Consensus vote**: Every Poly node act as a full node of the target blockchain, validating the blocks and cross-chain transactions following the rules of the side chain. The success of the cross-chain request depends on the consensus vote result of poly nodes.

**Consensus Vote** is not suggested for security and scalability reasons unless **Header Sync** can not be achieved. Here are the factors that determine the cross-chain event can be verified based on Header Sync:

- The blockchain support **Merkle proof** for verifying transactions; It has Merkle tree generation and verification method for the ledger records or transactions and has state root hash stored in the block header. This allows the relay chain to determine the legitimacy of the transaction records.
- The block headers have sufficient information, such as the validator set and their signature for verification. In other words, relayers who act as **light clients** can obtain the **validator sets** and their signature from only the block header information and ensure the legitimacy of the block headers. 

### Block Header Synchronization Scenario

The general steps for joining poly cross-chain ecosystem using header sync scenario are as follows:

- Deploy CCM/CCMP/CCD/LockProxy/Wrapper Contracts or develop a specific interface with the same functionality as a contract. For more details, see Chapter "Core Smart Contract List"(Attach a Link to smartcontractList.MD)
- Register the chain, check and approve the registration by consensus vote among Poly consensus nodes. To update the registered chain information, the registered account needs to send an application to the relay chain when updating side chain information. An application needs to be approved by at least two-thirds of the current consensus nodes to carry out the update action successfully.
- Synchronize an initial block header of the side chain to poly chain, and synchronize an initial block header of poly chain to the side chain's ccm smart contract.
- Synchronize all the consequent blocks of the side chain to poly chain. Synchronize some of the valuable blocks of the relay chain to the ccm contract of the side chain.
- Verify cross-chain transaction using Merkle state root hash of block header and Merkle proof generated by source chain.

The information requirement that needs to be clarified will be introduced in [Essential Chain Elements](elements.md).
The module and interface method will be presented in detail in [Guideline for Developers](guideline.md).

### Consensus Vote Scenario

The general steps for joining poly cross-chain ecosystem using header sync scenario are as follows:

- Deploy CCM/CCMP/CCD/LockProxy/Wrapper Contracts or develop a specific interface that has the same functionality as a contract, for more details, see Chapter "Core Smart Contract List"(Attach a Link to smartcontractList.MD)
- Register the chain, check and approve the registration by consensus vote among Poly consensus nodes. To update the registered chain information, the registered account needs to send an application to the relay chain when updating side chain information. An application needs to be approved by at least two-thirds of the current consensus nodes to carry out the update action successfully.
- Every Poly node acts as a full node of the side chain, validating the blocks and cross-chain transactions following the side chain rules and submitting them to the poly chain.
- Verify cross-chain events and transactions using consensus vote of poly consensus nodes.

Please **note** that for chains that can only use **Consensus Vote**, only the code for holding a full blockchain node of the side chain is needed for joining the poly cross-chain ecosystem. Most of the remaining content of this section is prepared for **Header Sync**.

